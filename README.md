*Задание 1: Анализ требований*
*Вам попал на руки фрагмент технического задания на разработку функционала "Корзина" для интернет-магазина "Петрушка Зеленая". В ТЗ есть несколько логических противоречий, недочетов и неполных мест.*
1. Пользователь может добавить в корзину от 1 до 10 единиц одного товара.
2. Пользователь может изменить количество каждого товара в корзине не менее, чем до 1-го. Для удаления товара из корзины используется отдельная кнопка.
3. В корзине может находиться не более 5 различных товаров.
4. Суммарное количество всех товаров в корзине не может превышать 20 штук.
5. Товары в корзине могут быть разные.
6. При попытке добавить товар, превышающий лимиты, система показывает сообщение: "Лимит корзины превышен".
7. Цена на продукт фиксируется на момент добавления в корзину и не меняется.
8. На странице корзины отображается список товаров, их количество, цена за единицу и общая стоимость позиции.
9. Если пользователь уменьшает количество товара до 0, товар удаляется из корзины.
10. В корзине может быть реклама других продуктов.
11. Реклама товаров в корзине должна быть каждый будний день по утрам и вечерам.
13. Если цена на товар изменилась в каталоге, система должна автоматически обновить ее в корзине у всех пользователей.

*Найдите и перечислите все логические противоречия и недочеты в предоставленном ТЗ. Объясните, в чем заключается проблема для каждого пункта.*

Первое, на что обращаю внимание - это потенциальная путаница с лимитами товаров. У нас есть три вида лимитов: по количетству единиц одного товара (10), по количеству различных товаров в корзине (5)
и по суммарному количеству единиц товаров в корзине (20). По соообщению "Лимит корзины превышен" не очевидно, какой из лимитов превышен.
Стоит дать каждому сценарию превышения лимита свое сообщение: "В корзине может быть не более 10 единиц одного товара", "В корзине может быть не более 5 товаров" и "В корзине может быть не более 20 единиц товаров"
Также нужно расставить приоритеты по лимитам. При добавлении товара в корзину производится проверка в порядке: не превысит ли общее количество единиц 20 штук -> не превысит ли количество товаров 5 штук
-> не превысит ли количество единиц одного товара 10 шт. Такой порядок минимизирует количество проверок при добавлении товара, превышающего какой-либо из лимитов.

Далее пункты 2 и 9 противоречат друг другу. Девятый пункт подразумевает возможность уменьшать количество товара до 0, в то время как второй пункт исключает такую функцию и предлагает использовать отдельную
кнопку "Удалить". Нужно определиться с интерфейсом - либо добавляем кнопку "Удалить" и отключаем уменьшение меньше 1, либо включаем уменьшение и не добавляем кнопку, либо оставляем обе функции, прописывая
им одинаковый результат - удаление товара из корзины.

Еще одно противоречие между пунктами 7 и 13. Нужно выбрать бизнес-правило для корзины: либо замораживаем цену для пользователя на момент добавления им товара в корзину, либо динамически обновляем цену
при ее изменении в каталоге. Хорошим вариантом будет замораживать цену на 1 час, чтобы пользователь полностью успел собрать свой заказ с ценами, которые были актуальны на момент добавления в корзину. Если в течение
часа заказ не оформляется, то цены в корзине меняются в соответствии с измнением в каталоге.

Нечетко сформулирован 11 пункт. Вместо "по утрам и вечерам" стоит указать конкретные временные диапазоны, например с 7 до 9 утра и с 18 до 20 вечера.
Судя по всему, ультимативная проверка на внимательность: нет 12-го пункта :)

Исправленный вариант требований:
1. Ограничения количества товаров в корзине.
  1.1. В корзине может находиться не более 20 единиц товаров.
   
  1.2. В корзине может находиться не более 5 различных товаров.
  
  1.3. В корзине может находиться не более 10 единиц одного товара.
  
  1.4. При превышении какого-либо из лимитов пользователь получает сообщение о том, какой лимит был превышен.
  
  1.4.1. Если превышен лимит по количеству товаров (20 шт.): «Вы не можете добавить больше 20 товаров в корзину».
  
  1.4.2. Если превышен лимит по разным позициям (5 видов): «Корзина может содержать не более 5 различных товаров».
  
  1.4.3. Если превышен лимит единиц товара (10 шт.): «Максимальное количество данного товара — 10 штук».
2. Управление количеством товаров и удаление.

	2.1. Пользователь может изменить количество единиц товара от 0 до 10.
	2.2. При уменьшении количества товара меньше 1 товар удаляется из корзины.
	2.3. При нажатии кнопки "Удалить" товар удаляется из корзины, независимо от указанного количества единиц товара.
4. Фиксация цены товара.
	3.1. Цена товара фиксируется на 1 час в момент добавления товара в корзину.
  3.2. По прошествии 1 часа цена товара автоматически обновляется системой в соответствии с изменением цены в каталоге.
  3.3. На странице корзины отображается список товаров, их количество, цена за единицу и общая стоимость позиции.
5. Реклама.
	4.1. В корзине может быть реклама других продуктов.
	4.2. Реклама товаров отображается с понедельника по пятницу с 7:00 до 9:00 и с 18:00 до 20:00.

Уточняющие вопросы проджект-менеджеру или заказчику
- 3 вида лимитов для корзины могут быть непонятными для покупателя и вызывать путаницу при сборе корзины. Есть ли бизнес-требования строго требующие все перечисленные лимиты или есть возможность
опустить один из них? Например, зафиксировать размер корзины в 20 товаров и ограничение по 10 единицам одного товара, но не ограничивать количество видов различных товаров. 
- Какую политику ценообразования лучше выбрать? Автоматически обновляем цены в корзине, если они меняются в каталоге, или замораживаем? Как альтернатива - замораживать цены на час. Изменение цены в корзине
без согласия пользователя может вызвать недовольство или повлечь за собой отмену заказа.
- В какое время демонстрировать рекламу в корзине?
- Реклама в корзине - это автоматическая подборка других (похожих) товаров или интегрированные баннеры других компаний?


*Задание 2: проектирование API*
*Что нужно сделать:
Написать пример REST API запроса, который будет вызываться при переходе пользователя на данный экран.*
*Привести пример ответа этого REST API в соответствии с макетом. Формат - JSON. Учесть, что при клике на плашку магазина должен осуществляться переход по ссылке на внешний ресурс.*

Запрос:
GET /api/v1/partners/stores
Host: api.petrushka-green.com
Accept: application/json
Authorization: Bearer {user_token}

Ответ:

<img width="731" height="688" alt="image" src="https://github.com/user-attachments/assets/406751f8-a642-493b-8a3f-b9335857d1f8" />
<img width="764" height="687" alt="image" src="https://github.com/user-attachments/assets/3d79d15e-29e3-402a-8b69-f42fe71395a4" />



*Задание 3: Архитектура*

Что нужно сделать:
Построить верхнеуровневую архитектурую схему - как должна работать отправка PUSH уведомлений в данном приложении. Можно просто в виде блок схем. Считаем, что на бэкенде микросервисная архитектура. В данном задании рекомендуется в интернете изучить архитектуры подобных решений.*

<img width="761" height="784" alt="image" src="https://github.com/user-attachments/assets/402ae5d4-a43a-4ccb-8655-1701d9877b78" />
